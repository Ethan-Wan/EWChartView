        -:    0:Source:/Users/wansy/Documents/project/BYSelf/EWChartView/EWChartView/SegmentView/EWSegmentHeadView.m
        -:    0:Graph:/Users/wansy/Library/Developer/Xcode/DerivedData/EWChartView-gwaqvpfjysmdagbdartktpszyxpm/Build/Intermediates/EWChartView.build/Debug-iphonesimulator/EWChartView.build/Objects-normal/x86_64/EWSegmentHeadView.gcno
        -:    0:Data:/Users/wansy/Library/Developer/Xcode/DerivedData/EWChartView-gwaqvpfjysmdagbdartktpszyxpm/Build/Intermediates/EWChartView.build/Debug-iphonesimulator/EWChartView.build/Objects-normal/x86_64/EWSegmentHeadView.gcda
        -:    0:Runs:10
        -:    0:Programs:1
        -:    1://
        -:    2://  EWSegmentHeadView.m
        -:    3://  EWSegmentView
        -:    4://
        -:    5://  Created by wansy on 15/7/8.
        -:    6://  Copyright (c) 2015年 wansy. All rights reserved.
        -:    7://
        -:    8:
        -:    9:#import "EWSegmentHeadView.h"
        -:   10:#import "EWSegmentHeadButton.h"
        -:   11:
        -:   12:@interface EWSegmentHeadView()
        -:   13:
function -[EWSegmentHeadView selectedHeadButton] called 5792 returned 100% blocks executed 100%
function -[EWSegmentHeadView setSelectedHeadButton:] called 1840 returned 100% blocks executed 100%
     7632:   14:@property (nonatomic, strong) EWSegmentHeadButton *selectedHeadButton;
unconditional  0 taken 5792
unconditional  1 taken 1840
        -:   15:
        -:   16:@end
        -:   17:
function -[EWSegmentHeadView .cxx_destruct] called 0 returned 0% blocks executed 0%
    #####:   18:@implementation EWSegmentHeadView
unconditional  0 never executed
        -:   19:
        -:   20:/**
        -:   21: *  布局按钮
        -:   22: */
function -[EWSegmentHeadView layoutSubviews] called 272 returned 100% blocks executed 100%
        -:   23:-(void)layoutSubviews
        -:   24:{
      272:   25:    CGFloat viewH = self.frame.size.height;
      272:   26:    CGFloat headButtonW = self.frame.size.width/self.subviews.count;
        -:   27:    
function __35-[EWSegmentHeadView layoutSubviews]_block_invoke called 816 returned 100% blocks executed 100%
     1088:   28:    [self.subviews enumerateObjectsUsingBlock:^(EWSegmentHeadButton *headView, NSUInteger idx, BOOL *stop) {
      816:   29:        headView.frame = CGRectMake(idx * headButtonW, 0, headButtonW , viewH);
      816:   30:    }];
unconditional  0 taken 816
      272:   31:}
unconditional  0 taken 272
        -:   32:
        -:   33:#pragma mark - private method
        -:   34:
        -:   35:/**
        -:   36: *  根据传入控制器的标题来添加按钮
        -:   37: *
        -:   38: *  @param title 控制器标题
        -:   39: */
function -[EWSegmentHeadView addHeadButton:] called 816 returned 100% blocks executed 77%
        -:   40:-(void)addHeadButton:(NSString *)title
        -:   41:{
      816:   42:    EWSegmentHeadButton *headButton = [[EWSegmentHeadButton alloc] init];
        -:   43:    
        -:   44:    //设置按钮的基本属性
      816:   45:    [headButton.button setTitle:title forState:UIControlStateNormal];
     4896:   46:    [headButton.button setTitleColor:self.selectedTitleColor?self.selectedTitleColor:[UIColor orangeColor] forState:UIControlStateSelected];
branch  0 taken 0
branch  1 taken 816
unconditional  2 never executed
unconditional  3 taken 816
branch  4 taken 816
branch  5 taken 0
unconditional  6 taken 816
branch  7 taken 0
branch  8 taken 816
unconditional  9 never executed
     4896:   47:    [headButton.button setTitleColor:self.normalTitleColor?self.normalTitleColor:[UIColor blackColor] forState:UIControlStateNormal];
branch  0 taken 0
branch  1 taken 816
unconditional  2 never executed
unconditional  3 taken 816
branch  4 taken 816
branch  5 taken 0
unconditional  6 taken 816
branch  7 taken 0
branch  8 taken 816
unconditional  9 never executed
      816:   48:    [headButton.button addTarget:self action:@selector(buttonClick:) forControlEvents:UIControlEventTouchUpInside];
      816:   49:    if (!self.selectedHeadButton) {
branch  0 taken 272
branch  1 taken 544
      272:   50:        self.selectedHeadButton = headButton;
      272:   51:        if (!self.isHiddenBottom)
branch  0 taken 272
branch  1 taken 0
        -:   52:        {
     1632:   53:            [headButton.colorLabel setBackgroundColor:self.bottomColor?self.bottomColor:[UIColor orangeColor]];
branch  0 taken 0
branch  1 taken 272
unconditional  2 never executed
unconditional  3 taken 272
branch  4 taken 272
branch  5 taken 0
unconditional  6 taken 272
branch  7 taken 0
branch  8 taken 272
unconditional  9 never executed
      272:   54:        }
unconditional  0 taken 272
      272:   55:        self.selectedHeadButton.button.selected = YES;
      272:   56:    }
unconditional  0 taken 272
      816:   57:    [self addSubview:headButton];
      816:   58:}
unconditional  0 taken 816
        -:   59:
        -:   60:/**
        -:   61: *  按钮的切换
        -:   62: *
        -:   63: *  @param button 按钮
        -:   64: */
function -[EWSegmentHeadView turnSelectedButton:] called 1568 returned 100% blocks executed 84%
        -:   65:-(void)turnSelectedButton:(UIButton *)button
        -:   66:{
     1568:   67:    EWSegmentHeadButton *headButton = (EWSegmentHeadButton *)[button superview];
        -:   68:    
        -:   69:    //切换选中状态
     1568:   70:    if(self.selectedHeadButton.button != button)
branch  0 taken 1568
branch  1 taken 0
        -:   71:    {
        -:   72:        
        -:   73:        //没隐藏底部条的时候切换颜色
     1568:   74:        if (!self.isHiddenBottom) {
branch  0 taken 1568
branch  1 taken 0
     1568:   75:            [self.selectedHeadButton.colorLabel setBackgroundColor:[UIColor clearColor]];
     9408:   76:            headButton.colorLabel.backgroundColor = self.bottomColor?self.bottomColor:[UIColor orangeColor];
branch  0 taken 0
branch  1 taken 1568
unconditional  2 never executed
unconditional  3 taken 1568
branch  4 taken 1568
branch  5 taken 0
unconditional  6 taken 1568
branch  7 taken 0
branch  8 taken 1568
unconditional  9 never executed
     1568:   77:        }
unconditional  0 taken 1568
        -:   78:        
     1568:   79:        self.selectedHeadButton.button.selected = NO;
     1568:   80:        button.selected = YES;
     1568:   81:        self.selectedHeadButton = headButton;
     1568:   82:    }
unconditional  0 taken 1568
        -:   83:    
     1568:   84:}
unconditional  0 taken 1568
        -:   85:
        -:   86:#pragma mark - event response
        -:   87:
function -[EWSegmentHeadView buttonClick:] called 0 returned 0% blocks executed 0%
        -:   88:-(void)buttonClick:(UIButton *)button
        -:   89:{
    #####:   90:    if(self.selectedHeadButton.button == button) return;
branch  0 never executed
branch  1 never executed
unconditional  2 never executed
    #####:   91:    [self turnSelectedButton:button];
        -:   92:
    #####:   93:    if (self.didClick) {
branch  0 never executed
branch  1 never executed
    #####:   94:        _didClick();
    #####:   95:    }
unconditional  0 never executed
    #####:   96:}
unconditional  0 never executed
branch  1 never executed
branch  2 never executed
branch  3 never executed
unconditional  4 never executed
        -:   97:
        -:   98:#pragma mark - public method
        -:   99:
function -[EWSegmentHeadView setHeadTitles:] called 272 returned 100% blocks executed 100%
        -:  100:-(void)setHeadTitles:(NSMutableArray *)titles
        -:  101:{
function __35-[EWSegmentHeadView setHeadTitles:]_block_invoke called 816 returned 100% blocks executed 100%
     1088:  102:    [titles enumerateObjectsUsingBlock:^(NSString *title, NSUInteger idx, BOOL *stop) {
      816:  103:        [self addHeadButton:title];
function __copy_helper_block_ called 0 returned 0% blocks executed 0%
function __destroy_helper_block_ called 0 returned 0% blocks executed 0%
      816:  104:    }];
unconditional  0 taken 816
unconditional  1 never executed
unconditional  2 never executed
      272:  105:}
unconditional  0 taken 272
        -:  106:
function -[EWSegmentHeadView setSelectedButtonIndex:] called 1568 returned 100% blocks executed 100%
        -:  107:-(void)setSelectedButtonIndex:(NSInteger)selectedButtonIndex
        -:  108:{
     1568:  109:    EWSegmentHeadButton *headButton = (EWSegmentHeadButton *)self.subviews[selectedButtonIndex];
        -:  110:    
     1568:  111:    [self turnSelectedButton:headButton.button];
     1568:  112:}
unconditional  0 taken 1568
        -:  113:
function -[EWSegmentHeadView selectedButtonIndex] called 0 returned 0% blocks executed 0%
        -:  114:-(NSInteger)selectedButtonIndex
        -:  115:{
    #####:  116:    return [self.subviews indexOfObject:self.selectedHeadButton];
unconditional  0 never executed
        -:  117:}
        -:  118:
        -:  119:@end
